<!doctype html>
<!--
  btl.run PWA ‚Äî UI/UX Mock (Screen 01: Tribute Setup)

  PURPOSE
  - Quick setup screen: choose map, tribute count, review roster.
  - All defaults prepopulated ‚Äî user can begin in 2 taps.
  - Receives game type via URL param: ?type=classic|spicy|funny

  IMPLEMENTATION NOTES (for the future React screen)
  - Read `type` from URL or app state
  - Prepopulate AI tributes based on type
  - Allow adding human players (future feature)
  - "Begin" routes to the game (Turn Hub)

  FOLDER STRUCTURE
  - Each screen lives in its own folder: /uiux/{screen-name}/
  - Files: index.html, styles.css, script.js, README.md
  - Shared assets: /uiux/assets/
  - Links to other pages MUST use explicit filenames for CloudFront/S3 compatibility:
    href="../{other-screen}/index.html" (NOT href="../{other-screen}/")

  VIEWING
  - Start dev server: `pnpm dev:pwa`
  - Open: /uiux/01-tribute-setup/index.html?type=classic
-->
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>btl.run ‚Äî Setup</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="../shared/ad-banner.css" />
  </head>
  <body>
    <div class="stage" role="application" aria-label="btl.run tribute setup">
      <div class="screen" data-type="classic">
        <div class="frame" aria-hidden="true"></div>

        <main class="panel" aria-label="Setup panel">
          <!-- Header with back button and type badge -->
          <header class="header">
            <a href="../00-start-screen/index.html" class="back-btn" aria-label="Go back">‚Üê</a>
            <h1 class="header-title">Quick Setup</h1>
            <span class="type-badge" id="typeBadge">Classic</span>
          </header>

          <!-- Map Pack Selection -->
          <section class="section-card" aria-label="Map selection">
            <p class="section-label">Map Pack</p>
            <div class="map-picker">
              <div class="map-strip" role="listbox" aria-label="Choose a map" id="mapStrip">
                <article class="map-card" role="option" tabindex="0" data-map="arena-prime" aria-selected="false">
                  <p class="map-row">Arena Prime<span class="map-tag">Balanced ¬∑ Strategy wins</span></p>
                </article>

                <article class="map-card" role="option" tabindex="0" data-map="inferno-pit" aria-selected="true">
                  <p class="map-row">Inferno Pit<span class="map-tag">Aggressive ¬∑ No hiding</span></p>
                </article>

                <article class="map-card" role="option" tabindex="0" data-map="chaos-carnival" aria-selected="false">
                  <p class="map-row">Chaos Carnival<span class="map-tag">Random ¬∑ Expect chaos</span></p>
                </article>
              </div>
            </div>
          </section>

          <!-- Tribute Settings (Count + Response Timer) -->
          <section class="section-card" aria-label="Tribute settings">
            <div class="tribute-settings-row">
              <div class="tribute-setting">
                <p class="section-label section-label--inline">Tributes</p>
                <div class="count-row" role="listbox" aria-label="Number of tributes">
                  <button class="count-btn" role="option" data-count="6" aria-selected="true">6</button>
                  <button class="count-btn" role="option" data-count="8" aria-selected="false">8</button>
                  <button class="count-btn" role="option" data-count="12" aria-selected="false">12</button>
                  <button class="count-btn" role="option" data-count="16" aria-selected="false">16</button>
                  <button class="count-btn" role="option" data-count="24" aria-selected="false">24</button>
                </div>
              </div>
              <div class="tribute-setting tribute-setting--timer">
                <p class="section-label section-label--inline">Response</p>
                <div class="timer-strip" role="listbox" aria-label="Response time limit">
                  <button class="timer-btn" role="option" data-timer="30" aria-selected="true">30s</button>
                  <button class="timer-btn" role="option" data-timer="60" aria-selected="false">1m</button>
                  <button class="timer-btn" role="option" data-timer="300" aria-selected="false">5m</button>
                  <button class="timer-btn" role="option" data-timer="1800" aria-selected="false">30m</button>
                  <button class="timer-btn" role="option" data-timer="3600" aria-selected="false">1hr</button>
                  <button class="timer-btn" role="option" data-timer="86400" aria-selected="false">1d</button>
                </div>
              </div>
            </div>
          </section>

          <!-- Tribute Roster -->
          <section class="section-card section-card--roster" style="flex: 1; min-height: 0; display: flex; flex-direction: column;">
            <p class="section-label section-label--roster">Roster</p>
            <div class="roster" id="roster" role="list" aria-label="Tribute roster">
              <!-- Tributes rendered by script.js -->
            </div>
          </section>

          <!-- Choice Status (shows pre-selected choice or deferred indicator) -->
          <section class="choice-section" id="choiceSection" aria-label="Your choice" hidden>
            <div class="choice-card">
              <div class="choice-header">
                <span class="choice-icon" id="choiceIcon">üéØ</span>
                <span class="choice-title" id="choiceTitle">Your Choice</span>
              </div>
              <p class="choice-text" id="choiceText">You'll choose after the game begins</p>
            </div>
          </section>

          <!-- Invite Code -->
          <section class="invite-section" aria-label="Invite players">
            <div class="invite-card">
              <div class="invite-header">
                <span class="invite-icon">üë•</span>
                <span class="invite-title">Invite Human Players</span>
              </div>
              <p class="invite-desc">Share this code so friends can join and replace an AI tribute</p>
              <div class="invite-code-row">
                <code class="invite-code" id="inviteCode">------</code>
                <button class="invite-copy-btn" id="copyCodeBtn" aria-label="Copy invite code" title="Copy to clipboard">
                  <span class="copy-icon">üìã</span>
                </button>
              </div>
              <p class="invite-expires" id="inviteExpires">Code expires when game starts</p>
            </div>
          </section>

          <!-- Begin Button -->
          <section class="begin-section">
            <button class="begin-btn" type="button" id="beginBtn">
              <span class="begin-btn-content">
                <span class="begin-btn-title">Begin</span>
                <span class="begin-btn-sub" id="beginSubtext">6 tributes ¬∑ 1 survivor</span>
              </span>
            </button>
          </section>

        </main>

        <footer class="ad-banner" aria-label="Advertisement">
          <div class="ad-banner__slot" aria-hidden="true">
            <div class="ad-banner__badge">Ad</div>
            <div class="ad-banner__creative">Banner placeholder</div>
            <div class="ad-banner__size">320√ó50</div>
          </div>
        </footer>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
