---
description: Documentation organization and quality standards
globs: ["*.md", "**/*.md"]
alwaysApply: true
---

# Cursor Rule: Documentation

**Critical**: btl.run uses flat, focused documentation. No session summaries, no redundant files.

## Documentation Structure

```
btlrunRepo/
├── README.md                    # Project overview
├── ARCHITECTURE.md              # Technical architecture  
├── SETUP.md                     # Deployment guide
├── INTEGRATION.md               # Service integration
├── DEPLOYMENT-CHECKLIST.md      # Pre-deploy verification
├── STATUS.md                    # Current status
├── Claude.md                    # AI agent context
├── CHANGELOG.md                 # (create when versions released)
└── .cursor/
    └── _lessons_learned/        # Technical pitfalls
        ├── aws/
        ├── typescript/
        ├── frontend/
        └── ...
```

## Rules

### 1. Root Directory - Essential Files Only

**NEVER create these:**
- ❌ `SESSION_SUMMARY.md`
- ❌ `COMPLETION_NOTES.md`
- ❌ `IMPLEMENTATION_SUMMARY.md`
- ❌ `FILE_INVENTORY.md`
- ❌ Any session/status summaries

**Only these belong in root:**
- ✅ README.md, ARCHITECTURE.md, SETUP.md (existing)
- ✅ INTEGRATION.md, DEPLOYMENT-CHECKLIST.md, STATUS.md (existing)
- ✅ Claude.md (AI context)
- ✅ CHANGELOG.md (when creating version releases)
- ✅ Standard files (.gitignore, package.json, etc.)

### 2. Update Existing Docs, Don't Create New

When you have information to document:

```
┌─ Is this setup/deployment information?
│  └─ YES → Update SETUP.md or DEPLOYMENT-CHECKLIST.md
│
├─ Is this architectural information?
│  └─ YES → Update ARCHITECTURE.md
│
├─ Is this integration information?
│  └─ YES → Update INTEGRATION.md
│
├─ Is this status/progress information?
│  └─ YES → Update STATUS.md
│
├─ Is this a version milestone?
│  └─ YES → Create/update CHANGELOG.md
│
└─ Is this a technical lesson?
   └─ YES → .cursor/_lessons_learned/category/name.md
```

### 3. Technical Lessons - `.cursor/_lessons_learned/`

**Purpose**: Capture debugging solutions and patterns to prevent repeated mistakes

**Create here when:**
- Solving a non-obvious problem
- Documenting a recurring issue
- Capturing a best practice from experience

**Example**:
- `.cursor/_lessons_learned/aws/sam-nested-stacks.md`
- `.cursor/_lessons_learned/frontend/vite-env-variables.md`

## Documentation Quality

### Be Concise
- Essential information only
- No verbose play-by-play
- Link to code/commits, don't duplicate them

### Be Accurate
- Update docs when system changes
- Remove obsolete information
- Keep file paths current

### Be Organized
- Information in the right file
- Don't duplicate across files
- Clear section headings

## Common Mistakes

### ❌ Creating Session Summaries

```markdown
# DO NOT CREATE:
SESSION_SUMMARY_2026-01-30.md
WORK_COMPLETED_TODAY.md
CHANGES_MADE.md
```

**Instead**: Update existing documentation files (SETUP.md, ARCHITECTURE.md, etc.)

### ❌ Redundant Information

```markdown
# DO NOT duplicate information across files
README.md         → "Here's how to deploy..."
DEPLOYMENT.md     → "Here's how to deploy..." (same info)
SETUP.md          → "Here's how to deploy..." (same info again)
```

**Instead**: One source of truth (SETUP.md for deployment)

### ❌ Obsolete Content

```markdown
# DO NOT keep outdated information
"Deploy with: pnpm deploy"  ← Wrong (we use PowerShell scripts)
"Deploy with: npm run deploy" ← Wrong (we use PowerShell scripts)
```

**Instead**: Update immediately when changes occur

## Checklist Before Creating New File

Before creating ANY new .md file:

- [ ] Is there an existing file where this belongs?
- [ ] Am I creating a session summary? (If yes, STOP - update existing docs instead)
- [ ] Is this information already documented elsewhere?
- [ ] Is this file truly necessary or just convenient?
- [ ] Will this file stay current or become obsolete quickly?

**When in doubt**: Update an existing file instead of creating a new one.

## btl.run Documentation Philosophy

- **Flat structure** - Essential files in root
- **Living documents** - Keep updated, no historical archives
- **No summaries** - Work speaks through commits and code
- **Lessons learned** - Only technical debugging insights
- **One source of truth** - Each topic has ONE authoritative file
